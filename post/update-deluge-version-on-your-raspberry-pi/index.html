<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Update Deluge version on your Raspberry PI</title>

  <meta name="author" content="" />
  <meta name="keywords" content="">

  

  <meta name="generator" content="Hugo 0.17-DEV" />

  <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

  
  <link href="http://www.devcows.com/css/animate.css" rel="stylesheet">

  
  <link href="http://www.devcows.com/css/style.default.css" rel="stylesheet" id="theme-stylesheet">

  
  <link href="http://www.devcows.com/css/custom.css" rel="stylesheet">

  
    

  
  <link rel="shortcut icon" href="http://www.devcows.com/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="http://www.devcows.com/img/apple-touch-icon.png" />
  

  <link href="http://www.devcows.com/css/owl.carousel.css" rel="stylesheet">
  <link href="http://www.devcows.com/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="http://www.devcows.com/index.xml" type="application/rss+xml" title="DevCows">

  
  <meta property="og:title" content="Update Deluge version on your Raspberry PI" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/" />
  <meta property="og:image" content="media/devcows-logo.png" />

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="http://www.devcows.com/">                    
                    <img src="http://www.devcows.com/img/logo.png" alt="Update Deluge version on your Raspberry PI logo" class="hidden-xs hidden-sm">
                    <img src="http://www.devcows.com/img/logo-small.png" alt="Update Deluge version on your Raspberry PI logo" class="visible-xs visible-sm">
                    <span class="sr-only">Update Deluge version on your Raspberry PI - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                    
                    
                    <li class="dropdown">
                        <a href="http://www.devcows.com/">Home</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://www.devcows.com/post">Blog</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://www.devcows.com/contact">Contact</a>
                    </li>
                    
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Update Deluge version on your Raspberry PI</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">Adrian Moreno</a> | June 15, 2015</p>

                        <div id="post-content">
                          

<p>Unfortunately, at the time of writing this post the latest version available from Raspbian repositories is 1.3.3. And you may not use other repositories since they will probably not provide packages for ARM devices such as the Raspberry PI.</p>

<p>There are different reasons for updating Deluge to the latest version. One of them is that 1.3.3 does not support Magnet links, which is a very common way of loading in torrents to the client. Another reason might be fix the “Connection Failed. Check logs for details” when trying to configure the Deluge downloader on CouchPotato. This error occurs because Deluge updated its secure transport protocol in one of the newest versions.</p>

<h2 id="uninstall-any-previous-version-of-deluge">Uninstall any previous version of Deluge</h2>

<p>If you already have a previous version of Deluge installed, uninstall it.</p>

<pre><code>sudo apt-get remove deluged
sudo apt-get remove deluge-web
sudo apt-get autoremove
</code></pre>

<h2 id="download-and-install-the-newest-deluge-version">Download and install the newest Deluge version</h2>

<p>First, let’s stop Deluge in case it is still running.</p>

<pre><code>sudo service deluge-daemon stop
</code></pre>

<p>or</p>

<pre><code>sudo /etc/init.d/deluge-daemon stop
</code></pre>

<p>Install a few dependencies needed to compile and run Deluge. Most of them will probably be already installed in your system.</p>

<pre><code>sudo apt-get install python python-twisted python-twisted-web python-openssl python-simplejson python-setuptools intltool python-xdg python-chardet geoip-database python-libtorrent python-notify python-pygame python-glade2 librsvg2-common xdg-utils python-mako
</code></pre>

<pre><code>sudo reboot
</code></pre>

<p>Create a folder where you will download Deluge on and cd into it.</p>

<pre><code>mkdir deluge
cd deluge/
</code></pre>

<p>Now download the latest version of Deluge from their website. At the time of writing the latest version was 1.3.11, but you can check for the a newer version here and update the URL from the following commands.</p>

<pre><code>wget http://download.deluge-torrent.org/source/deluge-1.3.11.tar.bz2
tar xvf deluge-1.3.11.tar.bz2
cd deluge-1.3.11/
</code></pre>

<p>Let’s clean the build (just in case) and compile it.</p>

<pre><code>python setup.py clean -a
python setup.py build
</code></pre>

<p>Now we can install the new version of Deluge.</p>

<pre><code>sudo python setup.py install
sudo python setup.py install_data
</code></pre>

<p>And delete the files we have downloaded and extracted since they are no longer needed.</p>

<pre><code>cd ../..
sudo rm -Rf deluge/
</code></pre>

<p>Verify that the new Deluge version is working fine.</p>

<pre><code>deluged
deluge-web
</code></pre>

<p>Go to <code>http://[raspberry_IP]:8112/</code> and verify that you can see the Deluge web interface.</p>

<h2 id="configure-deluge-to-autostart-on-boot">Configure Deluge to autostart on boot</h2>

<p>Verify that you already have the following config file at <code>/etc/default/deluge-daemon</code> with the content below or create it if you don’t have it.</p>

<pre><code>sudo nano /etc/default/deluge-daemon
</code></pre>

<p>And the content.</p>

<pre><code># Configuration for /etc/init.d/deluge-daemon

# The init.d script will only run if this variable is not empty.
DELUGED_USER=&quot;pi&quot;

# Should we run at startup?
RUN_AT_STARTUP=&quot;YES&quot;
</code></pre>

<p>You must also have the script to run the Deluge daemon and web UI as a Linux service. Let’s verify you have it there.</p>

<pre><code>sudo nano /etc/init.d/deluge-daemon
</code></pre>

<p>If you don’t have it just download it into <code>/etc/init.d/</code>:</p>

<pre><code>sudo wget -O /etc/init.d/deluge-daemon http://cdn5.howtogeek.com/wp-content/uploads/gg/up/sshot5151aa042ad11.txt
</code></pre>

<p>Fix the permissions of the init script.</p>

<pre><code>sudo chmod 755 /etc/init.d/deluge-daemon
</code></pre>

<p>And update the RC.</p>

<pre><code>sudo update-rc.d deluge-daemon defaults
</code></pre>

<p>Create the directories to keep the logs from the Deluge daemon and the web UI.</p>

<pre><code>sudo mkdir -p /var/log/deluge/daemon
sudo mkdir /var/log/deluge/web
</code></pre>

<p>And give it permission to the pi user.</p>

<pre><code>sudo chmod -R 755 /var/log/deluge
sudo chown -R pi:pi /var/log/deluge
</code></pre>

<p>Edit the init script to modify a few lines.</p>

<pre><code>sudo nano /etc/init.d/deluge-daemon
</code></pre>

<p>Replace <code>DAEMON1</code>, <code>DAEMON1_ARGS</code>, <code>DAEMON2</code>, and <code>DAEMON2_ARGS</code> variables by these ones.</p>

<pre><code>DAEMON1=/usr/local/bin/deluged
DAEMON1_ARGS=&quot;-d -L warning -l /var/log/deluge/daemon/warning.log&quot;
DAEMON2=/usr/local/bin/deluge-web
DAEMON2_ARGS=&quot;-L warning -l /var/log/deluge/web/warning.log&quot;
</code></pre>

<p>Restart the service.</p>

<pre><code>sudo service deluge-daemon restart
</code></pre>

<p>Let’s set a logrotate rule to handle the Deluge logs.</p>

<pre><code>sudo nano /etc/logrotate.d/deluge
</code></pre>

<p>And set the following content.</p>

<pre><code>/var/log/deluge/*/*.log {
weekly
missingok
rotate 7
compress
notifempty
copytruncate
create 600
}
</code></pre>

<p>Make the Deluge web UI to automatically connect to the daemon</p>

<p>To do that, we just need modify the config file of the web UI. But first, let’s stop the daemon.</p>

<pre><code>sudo service deluge-daemon stop
</code></pre>

<p>Now, open the config file.</p>

<pre><code>sudo nano /root/.config/deluge/web.conf
nano ~/.config/deluge/web.conf
</code></pre>

<p>And replace this line.</p>

<pre><code>“default_daemon”: “”,
</code></pre>

<p>By this one.</p>

<pre><code>“default_daemon”: “127.0.0.1:58846″,
</code></pre>

<p>The Deluge web interface will now automatically connect to the daemon.</p>

<h2 id="create-a-deluge-username-and-password-to-allow-access-to-other-apps">Create a Deluge username and password to allow access to other apps</h2>

<p>You may have other applications such as CouchPotato that integrate with Deluge to automatically load in Torrent files. To allow access to Deluge from external applications, you have to specify a username and password.</p>

<p>First, let’s set the proper permissions to the directories and files.</p>

<pre><code>sudo chmod 770 ~/.config/
sudo chmod 770 ~/.config/deluge
sudo chmod 660 ~/.config/deluge/auth
</code></pre>

<p>And now append a new user and password to the auth file. Replace <code>username</code> and <code>password</code> with whatever values you want.</p>

<pre><code>echo username:password:10 &gt;&gt; ~/.config/deluge/auth
</code></pre>

<p>Now let’s restart the daemon for the change to take effect.</p>

<pre><code>sudo service deluge-daemon restart
</code></pre>

<p>If you feel so inclined, please let us know how it went and leave some feedback if you find it useful.</p>

                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'devcows';
    var disqus_identifier = 'http:\/\/www.devcows.com\/post\/update-deluge-version-on-your-raspberry-pi\/';
    var disqus_title = 'Update Deluge version on your Raspberry PI';
    var disqus_url = 'http:\/\/www.devcows.com\/post\/update-deluge-version-on-your-raspberry-pi\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" results="0" class="form-control" placeholder="Search">
                <input type="hidden" name="q" value="site:http://www.devcows.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>














<div class="panel sidebar-menu">
    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="http://www.devcows.com/tags/ambilight"><i class="fa fa-tags"></i> ambilight</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/android"><i class="fa fa-tags"></i> android</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/arduino"><i class="fa fa-tags"></i> arduino</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/deluge"><i class="fa fa-tags"></i> deluge</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/google-maps"><i class="fa fa-tags"></i> google-maps</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/hdd-usb"><i class="fa fa-tags"></i> hdd-usb</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/humidity"><i class="fa fa-tags"></i> humidity</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/ipsec"><i class="fa fa-tags"></i> ipsec</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/kodi"><i class="fa fa-tags"></i> kodi</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/meteodino"><i class="fa fa-tags"></i> meteodino</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/mikrotik"><i class="fa fa-tags"></i> mikrotik</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/raspberry-pi"><i class="fa fa-tags"></i> raspberry-pi</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/temperature"><i class="fa fa-tags"></i> temperature</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/vpn"><i class="fa fa-tags"></i> vpn</a>
            </li>
            
            <li><a href="http://www.devcows.com/tags/xbmc"><i class="fa fa-tags"></i> xbmc</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>About us</h4>

            <p>We are specialized in Ruby on Rails, Django and Android development.</p><p>If you want to obtain more information about the team, please, feel free to <a href='/contact'>contact us</a>. We would love to hear from you.</p>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="#">
                          
                            <img src="http://www.devcows.com/media/mikrotik_ipsec.png" alt="" class="img-responsive">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.devcows.com/post/create-an-ipsec-tunnel-between-2-mikrotik-routers-and-dynamic-public-ips/">Create an IPsec tunnel between 2 Mikrotik routers and dynamic public IPs</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="#">
                          
                            <img src="http://www.devcows.com/media/ambilight.jpg" alt="" class="img-responsive">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.devcows.com/post/arduino-ambilight-xbmc/">Homemade ambilight with Arduino and Kodi</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="#">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://www.devcows.com/post/be-in-sync-with-raspberry/">Be sync with Raspberry Pi</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">

        </div>
        

        
        <div class="col-md-4 col-sm-6">

            <h4>Contact</h4>

            <p><strong><u>DevCows</u></strong>
        <br>Avda. Països Catalans, 28 B - local B
        <br>Sant Pere i Sant Pau
        <br>43007
        <br>Tarragona
        <br>
        <strong>Spain</strong>
      </p>
      

            <a href="/contact" class="btn btn-small btn-template-main">Go to contact page</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2015 - 2016, DevCows; all rights reserved.</p>
            
            <p class="pull-right">
              Template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              Ported by <a href="http://devcows.com">DevCows</a>
                
            </p>
        </div>
    </div>
</div>





    </div>
    

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="http:\/\/www.devcows.com\/js/jquery-1.11.0.min.js"><\/script>')
</script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

<script src="http://www.devcows.com/js/jquery.cookie.js"></script>
<script src="http://www.devcows.com/js/waypoints.min.js"></script>
<script src="http://www.devcows.com/js/jquery.counterup.min.js"></script>
<script src="http://www.devcows.com/js/jquery.parallax-1.1.3.js"></script>
<script src="http://www.devcows.com/js/front.js"></script>


<script src="http://www.devcows.com/js/owl.carousel.min.js"></script>


  </body>
</html>
